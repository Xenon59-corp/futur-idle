<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Idle Colonisation Spatiale</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; background-color: #1a1a2e; color: white; }
        .container { margin-top: 50px; }
        button { padding: 10px; margin: 10px; cursor: pointer; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üåç Idle Colonisation Spatiale üöÄ</h1>
        <p>Ressources: <span id="ressources">0</span></p>
        <button onclick="collecter()">üî® Collecter</button>
        <button onclick="ameliorer()">‚ö° Am√©liorer (+1/sec) - Co√ªt: <span id="cout">10</span></button>
        <br>
        <button onclick="sauvegarderFichier()">üíæ Sauvegarder</button>
        <input type="file" id="fileInput" onchange="chargerFichier(event)">
    </div>
    
    <script>
        let ressources = 0;
        let generationParSeconde = 0;
        let coutAmelioration = 10;

        function majAffichage() {
            document.getElementById("ressources").textContent = ressources;
            document.getElementById("cout").textContent = coutAmelioration;
        }

        function collecter() {
            ressources += 1;
            majAffichage();
        }

        function ameliorer() {
            if (ressources >= coutAmelioration) {
                ressources -= coutAmelioration;
                generationParSeconde += 1;
                coutAmelioration = Math.floor(coutAmelioration * 1.5);
                majAffichage();
            }
        }

        setInterval(() => {
            ressources += generationParSeconde;
            majAffichage();
        }, 1000);

        function sauvegarderFichier() {
            const data = {
                ressources,
                generationParSeconde,
                coutAmelioration
            };
            const blob = new Blob([JSON.stringify(data)], { type: "application/json" });
            const a = document.createElement("a");
            a.href = URL.createObjectURL(blob);
            a.download = "sauvegarde.json";
            a.click();
        }

        function chargerFichier(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                const data = JSON.parse(e.target.result);
                ressources = data.ressources || 0;
                generationParSeconde = data.generationParSeconde || 0;
                coutAmelioration = data.coutAmelioration || 10;
                majAffichage();
            };
            reader.readAsText(file);
        }

        majAffichage();
    </script>
</body>
</html>
