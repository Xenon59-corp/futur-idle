<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Idle Colonisation Spatiale</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; background-color: #1a1a2e; color: white; margin: 0; }
        .container { margin-top: 50px; display: flex; justify-content: center; align-items: flex-start; }
        .left-panel, .right-panel { width: 25%; padding: 20px; }
        .right-panel { text-align: right; }
        .menu { margin: 20px 0; }
        button { padding: 10px; margin: 10px; cursor: pointer; }
        h3, h4 { margin-top: 20px; }

        #patchNotes {
            background-color: #333;
            padding: 15px;
            border-radius: 5px;
            height: 200px;
            overflow-y: auto;
        }

        select {
            padding: 10px;
            margin-top: 10px;
        }

        /* Cadre √©volutif en bas √† gauche */
        #developpement {
            position: fixed;
            bottom: 10px;
            left: 10px;
            background-color: rgba(0, 0, 0, 0.7);
            padding: 15px;
            border-radius: 8px;
            width: 300px;
        }

        #progressBar {
            width: 100%;
            height: 20px;
            background-color: #444;
            border-radius: 5px;
            margin-top: 10px;
        }

        #progressFill {
            height: 100%;
            background-color: #00ff00;
            width: 0%;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Left Panel: Patch Notes -->
        <div class="left-panel">
            <h3>üìù Patch Notes</h3>
            <div id="patchNotes">
                <p>Aucune modification pour le moment. Ajoutez ici les changements effectu√©s.</p>
            </div>
        </div>

        <!-- Center Panel: Main Game Area -->
        <div class="center-panel">
            <h1>üåç Idle Colonisation Spatiale üöÄ</h1>
            <p>Ressources (Min√©raux): <span id="ressources">0</span></p>
            <p>Population: <span id="population">0</span></p>
            <p>G√©n√©ration par seconde: <span id="generation">0</span></p>

            <!-- Menu pour Collecte -->
            <div class="menu">
                <h4>üî® Collecter</h4>
                <button onclick="collecter()">Collecter</button>
            </div>

            <!-- Menu pour Am√©liorations -->
            <div class="menu">
                <h4>‚ö° Am√©lioration</h4>
                <button onclick="ameliorer()">Am√©liorer (+1/sec) - Co√ªt: <span id="cout">10</span></button>
            </div>

            <!-- Menu pour Population -->
            <div class="menu">
                <h4>üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Population</h4>
                <button onclick="augmenterPopulation()">Augmenter Population - Co√ªt: <span id="coutPopulation">100</span></button>
            </div>

            <!-- Menu pour G√©n√©rateur -->
            <div class="menu">
                <h4>üè≠ G√©n√©rateur</h4>
                <button onclick="acheterGenerateur()">Acheter G√©n√©rateur - Co√ªt: <span id="coutGenerateur">50</span></button>
                <p>G√©n√©rateurs: <span id="generateurs">0</span></p>
                <p>G√©n√©ration par g√©n√©rateur: <span id="genParGenerateur">0</span></p>
            </div>
        </div>

        <!-- Right Panel: Save Menu -->
        <div class="right-panel">
            <button onclick="sauvegarderFichier()">üíæ Sauvegarder</button>
            <input type="file" id="fileInput" onchange="chargerFichier(event)">
        </div>
    </div>

    <!-- Cadre √©volutif en bas gauche -->
    <div id="developpement">
        <h4>üìä D√©veloppement en Direct</h4>
        <p>Progr√®s : <span id="progressText">0%</span></p>
        <div id="progressBar">
            <div id="progressFill"></div>
        </div>
    </div>

    <script>
        let ressources = 0;
        let generationParSeconde = 0;
        let coutAmelioration = 10;
        let population = 0;
        let coutPopulation = 100;
        let generateurs = 0;
        let coutGenerateur = 50;
        let generationParGenerateur = 0;
        let progression = 0;

        function majAffichage() {
            document.getElementById("ressources").textContent = ressources;
            document.getElementById("cout").textContent = coutAmelioration;
            document.getElementById("population").textContent = population;
            document.getElementById("generation").textContent = generationParSeconde;
            document.getElementById("coutGenerateur").textContent = coutGenerateur;
            document.getElementById("generateurs").textContent = generateurs;
            document.getElementById("genParGenerateur").textContent = generationParGenerateur;
            document.getElementById("coutPopulation").textContent = coutPopulation;
            document.getElementById("progressText").textContent = progression + "%";
            document.getElementById("progressFill").style.width = progression + "%";
        }

        function collecter() {
            ressources += 1;
            progression = Math.min(progression + 1, 100); // Augmente jusqu'√† 100%
            majAffichage();
        }

        function ameliorer() {
            if (ressources >= coutAmelioration) {
                ressources -= coutAmelioration;
                generationParSeconde += 1;
                coutAmelioration = Math.floor(coutAmelioration * 1.5);
                progression = Math.min(progression + 2, 100); // Augmente plus vite pour l'am√©lioration
                majAffichage();
            }
        }

        function acheterGenerateur() {
            if (ressources >= coutGenerateur) {
                ressources -= coutGenerateur;
                generateurs += 1;
                generationParGenerateur += 5;
                coutGenerateur = Math.floor(coutGenerateur * 1.5);
                progression = Math.min(progression + 3, 100); // Augmentation plus rapide
                majAffichage();
            }
        }

        function augmenterPopulation() {
            if (ressources >= coutPopulation) {
                ressources -= coutPopulation;
                population += 10;
                generationParSeconde += 2;
                coutPopulation = Math.floor(coutPopulation * 1.5);
                progression = Math.min(progression + 4, 100); // Augmentation rapide
                majAffichage();
            }
        }

        setInterval(() => {
            ressources += generationParSeconde + (generateurs * generationParGenerateur);
            majAffichage();
        }, 1000);

        function sauvegarderFichier() {
            const data = {
                ressources,
                generationParSeconde,
                coutAmelioration,
                population,
                coutPopulation,
                generateurs,
                coutGenerateur,
                generationParGenerateur,
                progression
            };
            const blob = new Blob([JSON.stringify(data)], { type: "application/json" });
            const a = document.createElement("a");
            a.href = URL.createObjectURL(blob);
            a.download = "sauvegarde.json";
            a.click();
        }

        function chargerFichier(event) {
            const file = event.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function(e) {
                const data = JSON.parse(e.target.result);
                ressources = data.ressources || 0;
                generationParSeconde = data.generationParSeconde || 0;
                coutAmelioration = data.coutAmelioration || 10;
                population = data.population || 0;
                coutPopulation = data.coutPopulation || 100;
                generateurs = data.generateurs || 0;
                coutGenerateur = data.coutGenerateur || 50;
                generationParGenerateur = data.generationParGenerateur || 0;
                progression = data.progression || 0;
                majAffichage();
            };
            reader.readAsText(file);
        }

        majAffichage();
    </script>
</body>
</html>
